(this["webpackJsonptest-react-task"]=this["webpackJsonptest-react-task"]||[]).push([[0],{10:function(e,t,r){e.exports={img:"SortArrow_img__3KXXd",imgContainer:"SortArrow_imgContainer__24mBU",arrowDown:"SortArrow_arrowDown__7FB-5",arrowUp:"SortArrow_arrowUp__T-JiO"}},11:function(e,t,r){e.exports={card:"Card_card__1nqoG",stats:"Card_stats__293_V",infos:"Card_infos__3FQHW",name:"Card_name__2K7p8",text:"Card_text__3N39s",links:"Card_links__2J9Hk",follow:"Card_follow__2MMss",view:"Card_view__35x79"}},12:function(e,t,r){e.exports={select:"StateFilter_select__2c0wq"}},14:function(e,t,r){e.exports={loadingMask:"Loader_loadingMask__1hfaG",preloader:"Loader_preloader__2uxUT",cThreeDotsLoader:"Loader_cThreeDotsLoader__14ZkR","three-dots-loader-animation":"Loader_three-dots-loader-animation__hYLI8","load-mask-wrapper":"Loader_load-mask-wrapper__3V-9t","load-mask-innerDots":"Loader_load-mask-innerDots__1E2B4","load-mask-outerPlane":"Loader_load-mask-outerPlane__2_IxG"}},22:function(e,t,r){e.exports={container:"MainPage_container__36UC_"}},23:function(e,t,r){e.exports={controlGroup:"Input_controlGroup__3b31b"}},36:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(13),c=r.n(s),i=r(4),o=r(16),l=r.n(o),d=r(19),j=r(3),u=r(5),b=r(2),O="SET-NEW-PAGE",h="SET-PAGE-COUNT",f="SET-ALL-USERS",m="SET-USERS-TO-SORT",x="SET-PREV-PAGE",p="SET-CURRENT-PAGE",v="SET-USER-TO-FIND",S="SET-CURRENT-USER",_="SET-SORT-DIRECTION",g={pageCount:0,prevPage:null,itemsPerPage:20,currentPage:1,allUsers:[],usersToSort:[],userToFind:"",currentUser:{},sortDirection:""},T=function(e){return{type:"SET-USERS-TO-SORT",usersToSort:e}},A={id:"id",firstName:"firstName",lastName:"lastName",email:"email",phone:"phone",state:"state"},N=r(9),E=r.n(N),C=r(10),P=r.n(C),U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVRoge2YTyhlURzHf4YZJDMUhqJQpvxZ2KBkYcaU2GBhZMOGMhtpFmLBGmWjZCML2YkSm7GZZhYsNJMspimSZEQomWbMDDN8z7vndc7jjXPfu+e+azif+tR9797zO9967933fY/IYDAYDAbD3WWM+18yDC+4wx5nCZkOEuH9dniaKAQa4DlZoTfhOj/+A5s8zGWLKviTrMA7MBtmwi3+3G9Y41E2JaXwG1lBD2GBdC4P7vNz32FFxNMpKIRHJAKWB7mmBJ7wa45hccTSKciC22QF+wWrb7j2BYm32FeY43o6BanwC1mB2Af3lY019fCMr9mA6a6lU/AYfuRB/sL2ENa28jVs7RpM1p5OQTx8T+Ie3xPGjF5p/RJM0JZOQTSckTYfcTBrSJozDx86TqcgCk5Im07y55zMG5fmTcEHDjPeiNxv5mCMhpnsFZ2W5o5qmBmUfmmTdzBO4+xH8K00v0/jbB+vpeGrMEn3BiARrkj7dOka3ExWEWNDWTF7qmtwEFLgZxK35lanA1/S9XLmNlfLX224g8pIlLMDmK8hnF1Y+dvje/+gMMpfEanLmduEXf5y4S7ZK2du8xye8iysjj9TLUijwHLW6GY6m9RRYPnL+NeFT+AnEneAtkiks0kLKcofK2cfSNyDuyOZziadJPItk1T+WIFakE4OeJHOJoMkci6S9Q0eUKbYsZNy5jZXyx879v0AZw9mySpWtx2WkWX1/3lAlfANjPUuU8iwrCxzpcc5DAaDwWC451wCqMilK1xNp7YAAAAASUVORK5CYII=",w=r(0),k=function(e){var t=e.directionSort;return Object(w.jsx)(w.Fragment,{children:t?Object(w.jsx)("span",{className:P.a.imgContainer,children:Object(w.jsx)("img",{className:P.a.arrowDown,alt:"sort",src:U})}):Object(w.jsx)("span",{className:P.a.imgContainer,children:Object(w.jsx)("img",{className:P.a.arrowUp,alt:"sort",src:U})})})},M=r(21),D=function(e,t){return e.sort((function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:e[t]===r[t]?0:void 0}))},F=function(e,t){return e.sort((function(e,r){return e[t]>r[t]?-1:e[t]<r[t]?1:0}))},R=function(e,t){return e.sort((function(e,r){return e.adress[t]>r.adress[t]?-1:e.adress[t]<r.adress[t]?1:e.adress[t]===r.adress[t]?0:void 0}))},L=function(e,t){return e.sort((function(e,r){return e.adress[t]>r.adress[t]?1:e.adress[t]<r.adress[t]?-1:e.adress[t]===r.adress[t]?0:void 0}))},y=function(e,t){return e.filter((function(e){return e.firstName.includes(t)}))},Y=function(e){var t=e.data,r=e.allUsers,n=e.searchMode,s=e.selectMode,c=Object(j.b)(),o=Object(j.c)((function(e){return e.mainPage})),l=o.currentPage,d=o.prevPage,b=o.itemsPerPage,O=Object(a.useState)(!1),h=Object(i.a)(O,2),f=h[0],m=h[1],x=Object(a.useState)(0),p=Object(i.a)(x,2),v=p[0],S=p[1],_=Object(a.useState)(""),g=Object(i.a)(_,2),T=g[0],N=g[1],C=function(e){!function(e,t,r,a,n,s){a(!n),t===s.state&&(L(e,t),L(r,t)),n||t!==s.state||(R(r,t),R(e,t)),n&&(D(e,t),D(r,t)),n||(F(e,t),F(r,t))}(r,e,t,m,f,A),c({type:"SET-SORT-DIRECTION",sortDirection:e}),N(e)},P=function(e){var r=Object(u.a)(t).find((function(t){return t.id===e}));S(r.id),c({type:"SET-CURRENT-USER",currentUser:r})},U=function(e){var t=e.sortField,r=e.fieldToSort;return Object(w.jsxs)("th",{className:E.a.thContainer,onClick:function(){t(r)},children:[T===r?Object(w.jsx)(k,{directionSort:f}):"",r]})},M=function(e){var t=e.data,r=e.setUserId,a=e.showCurrentUser;return Object(u.a)(t).map((function(e){var t=e.id;return Object(w.jsxs)("tr",{className:v===t?E.a.active:"",onClick:function(){r(t),a(e.id)},children:[Object(w.jsx)("td",{children:e.id}),Object(w.jsx)("td",{children:e.firstName}),Object(w.jsx)("td",{children:e.lastName}),Object(w.jsx)("td",{children:e.email}),Object(w.jsx)("td",{children:e.phone}),Object(w.jsx)("td",{children:e.adress.state})]},e.id+e.email)}))},y=function(e){var t=e.data,r=e.setUserId,a=e.showCurrentUser;return Object(u.a)(t).slice(1===l?0:d*b,l*b).map((function(e){var t=e.id;return Object(w.jsxs)("tr",{className:v===t?E.a.active:"",onClick:function(){r(t),a(e.id)},children:[Object(w.jsx)("td",{children:e.id}),Object(w.jsx)("td",{children:e.firstName}),Object(w.jsx)("td",{children:e.lastName}),Object(w.jsx)("td",{children:e.email}),Object(w.jsx)("td",{children:e.phone}),Object(w.jsx)("td",{children:e.adress.state})]},e.id+e.email)}))};return Object(w.jsxs)("table",{className:E.a.styledTable,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)(U,{sortField:C,fieldToSort:A.id}),Object(w.jsx)(U,{sortField:C,fieldToSort:A.firstName}),Object(w.jsx)(U,{sortField:C,fieldToSort:A.lastName}),Object(w.jsx)(U,{sortField:C,fieldToSort:A.email}),Object(w.jsx)(U,{sortField:C,fieldToSort:A.phone}),Object(w.jsx)(U,{sortField:C,fieldToSort:A.state})]})}),Object(w.jsx)("tbody",{children:s||n?Object(w.jsx)(M,{data:t,setUserId:S,showCurrentUser:P}):Object(w.jsx)(y,{data:t,setUserId:S,showCurrentUser:P})})]})},G=r(14),I=r.n(G),B=function(){return Object(w.jsx)("div",{id:I.a.loadingMask,children:Object(w.jsx)("div",{className:I.a.preloader,children:Object(w.jsx)("div",{className:I.a.cThreeDotsLoader})})})},W=r(22),K=r.n(W),Z=r(11),J=r.n(Z),z=n.a.memo((function(){var e=Object(j.c)((function(e){return e.mainPage})).currentUser;return void 0===e||0===Object.keys(e).length||""===e.firstName?"":Object(w.jsx)("div",{class:J.a.card,children:Object(w.jsxs)("div",{class:J.a.infos,children:[Object(w.jsxs)("div",{class:J.a.name,children:[Object(w.jsxs)("h2",{children:["Selected Profile :"," ",e.firstName+" "+e.lastName]}),Object(w.jsxs)("h4",{children:["Description : ",e.description]})]}),Object(w.jsxs)("ul",{class:J.a.stats,children:[Object(w.jsxs)("li",{children:[Object(w.jsx)("h3",{children:"State : "}),Object(w.jsx)("h4",{children:e.adress.state})]}),Object(w.jsxs)("li",{children:[Object(w.jsx)("h3",{children:"Index : "}),Object(w.jsx)("h4",{children:e.adress.zip})]}),Object(w.jsxs)("li",{children:[Object(w.jsx)("h3",{children:"City : "}),Object(w.jsx)("h4",{children:e.adress.city})]}),Object(w.jsxs)("li",{children:[Object(w.jsx)("h3",{children:"Adress : "}),Object(w.jsx)("h4",{children:e.adress.streetAddress})]})]})]})})}));z.whyDidYouRender=!0;var X=z,H=r(23),Q=r.n(H),V=function(e){var t=e.userToFind,r=e.setUserToFind,a=e.handleSearchMode;return Object(w.jsxs)("div",{className:Q.a.controlGroup,children:[Object(w.jsx)("input",{onChange:function(e){a(e),r(e.target.value)},id:"input",type:"text",name:"input",placeholder:"Enter your first name",value:t}),Object(w.jsx)("label",{htmlFor:"input",children:"First name"})]})};V.whyDidYouRender=!0;var q=V,$=r(6),ee=r.n($),te=r(18),re=Object(te.a)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,r=Object(b.a)({},e);switch(t.type){case S:return Object(b.a)(Object(b.a)({},r),{},{currentUser:t.currentUser});case _:return Object(b.a)(Object(b.a)({},r),{},{sortDirection:t.sortDirection});case x:return Object(b.a)(Object(b.a)({},r),{},{prevPage:t.prevPage});case f:return Object(b.a)(Object(b.a)({},r),{},{allUsers:t.allUsers});case m:return r.usersToSort=Object(u.a)(t.usersToSort),Object(b.a)({},r);case O:return Object(b.a)(Object(b.a)({},r),{},{currentPage:t.currentPage});case h:return Object(b.a)(Object(b.a)({},r),{},{pageCount:t.pageCount/e.itemsPerPage});case p:return Object(b.a)(Object(b.a)({},r),{},{currentPage:t.currentPage});case v:return Object(b.a)(Object(b.a)({},e),{},{userToFind:t.userToFind});default:return e}}}),ae=Object(te.b)(re);window.store=ae;var ne=ae,se=function(e){for(var t=e.portionSize,r=void 0===t?3:t,n=e.filteredUsers,s=e.searchMode,c=e.selectMode,o=Object(j.b)(),l=ne.getState().mainPage.allUsers,d=ne.getState().mainPage.itemsPerPage,b=Math.ceil(n.length/d),O=Object(j.c)((function(e){return e.mainPage.currentPage})),h=Object(a.useState)(!1),f=Object(i.a)(h,2),m=f[0],x=f[1],p=[],v=0;v<b;v++)p.push(v+1);var S=Math.ceil(b/r),_=Object(a.useState)(1),g=Object(i.a)(_,2),A=g[0],N=g[1],E=(A-1)*r+1,C=A*r,P=function(e){var t=e.setPortionNumber,r=e.setLastPage;return Object(w.jsx)("li",{onClick:function(){t(A-1)},children:Object(w.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),r(!1)},className:ee.a.prev,children:0===O||!m||s||c?"":"prev"})})},U=function(e){var t=e.setPortionNumber,r=e.setLastPage;return Object(w.jsx)("li",{onClick:function(){t(A+1)},children:Object(w.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),r(!0)},className:ee.a.next,children:"Next"})})},k=function(){return p.filter((function(e){return e})).map((function(e,t){return Object(w.jsx)("li",{className:ee.a.pageNumber,children:Object(w.jsx)("a",{href:"",onClick:function(e){return e.preventDefault()},children:e})},Math.random(0,1))}))},M=function(){return p.filter((function(e){return e>=E&&e<=C})).map((function(e,t){var r=e;return Object(w.jsx)("li",{onClick:function(){var t,r;o(function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}}(e)),o({type:"SET-PREV-PAGE",prevPage:e-1}),t=e-1,r=e,o(T(Object(u.a)(l).slice(t*d,r*d)))},className:ee.a.pageNumber,children:Object(w.jsx)("a",{href:"",onClick:function(e){return e.preventDefault()},className:r===O?ee.a.active:"",children:e})},Math.random(0,1))}))};return Object(w.jsxs)("ul",{className:ee.a.pagination,children:[A>0&&Object(w.jsx)(P,{setPortionNumber:N,setLastPage:x}),s||c?Object(w.jsx)(k,{}):Object(w.jsx)(M,{}),S>A&&Object(w.jsx)(U,{setPortionNumber:N,setLastPage:x})]})},ce=function(){return Object(w.jsx)("div",{children:"Error"})},ie=r(12),oe=r.n(ie),le=function(e){var t=e.handleSelect,r=e.handleSelectMode,a=e.userToFind,n=e.stateFilter,s=Object(j.c)((function(e){return e.mainPage.allUsers})),c=function(e){var t,r=[],a=Object(M.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.includes(n)||r.push(n)}}catch(s){a.e(s)}finally{a.f()}return r}(y(s,a).map((function(e){return e.adress.state})));return Object(w.jsxs)("select",{name:"select",className:oe.a.select,value:n,onChange:function(e){r(e),t(e)},children:[Object(w.jsx)("option",{className:oe.a.select,value:"",hidden:!0,selected:!0,children:"Filtering by state"}),Object(w.jsx)("option",{className:oe.a.select,value:"",children:"All"}),c.map((function(e){return Object(w.jsx)("option",{className:oe.a.select,value:e,children:e},e)}))]})},de=function(){var e=Object(j.c)((function(e){return e.mainPage.allUsers})),t=Object(a.useState)(""),r=Object(i.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),u=o[0],b=o[1],O=Object(a.useState)(""),h=Object(i.a)(O,2),f=h[0],m=h[1],x=Object(a.useState)(""),p=Object(i.a)(x,2),v=p[0],S=p[1],_=y(e,n).filter((function(e){return""===u||e.adress.state===u})),g=function(){var e=Object(j.b)(),t=Object(a.useState)([]),r=Object(i.a)(t,2),n=(r[0],r[1],Object(a.useState)(!0)),s=Object(i.a)(n,2),c=s[0],o=s[1],u=Object(a.useState)(!1),b=Object(i.a)(u,2),O=b[0],h=b[1];return Object(a.useEffect)((function(){!function(){var t=Object(d.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),console.log("use aip data"),t.next=5,fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 5:return r=t.sent,t.next=8,r.json();case 8:if(a=t.sent,200===r.status){t.next=11;break}throw new Error("Error");case 11:console.log("USE API DATA CALLED"),e(T(a.slice(0,20))),e({type:"SET-ALL-USERS",allUsers:a}),e({type:"SET-PAGE-COUNT",pageCount:a.length}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),o(!1),h(!0);case 21:return t.prev=21,o(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,17,21,24]])})));return function(){return t.apply(this,arguments)}}()()}),[]),{isLoading:c,isError:O}}();return Object(w.jsxs)("div",{className:K.a.container,children:[g.isError?Object(w.jsx)(ce,{}):null,g.isLoading?Object(w.jsx)(B,{}):null,Object(w.jsx)(q,{userToFind:n,setUserToFind:s,handleSearchMode:function(e){var t=e.target.value;m(t)}}),Object(w.jsx)(le,{handleSelect:function(e){var t=e.target.value;b(t)},data:_,stateFilter:u,userToFind:n,handleSelectMode:function(e){var t=e.target.value;S(t)}}),Object(w.jsx)(Y,{data:_,selectMode:v,allUsers:e,searchMode:f}),Object(w.jsx)(se,{searchMode:f,selectMode:v,filteredUsers:_}),Object(w.jsx)(X,{})]})};var je=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(de,{})})};c.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(j.a,{store:ne,children:Object(w.jsx)(je,{})})}),document.getElementById("root"))},6:function(e,t,r){e.exports={pageNumber:"Pagination_pageNumber__11ney",active:"Pagination_active__3anrp"}},9:function(e,t,r){e.exports={styledTable:"Table_styledTable__2YYnh",thContainer:"Table_thContainer__2gV85",active:"Table_active__2sorm"}}},[[36,1,2]]]);
//# sourceMappingURL=main.443a6337.chunk.js.map